@if (!IsLoggedIn)
{
    <Login LoggedIn="@LoggedIn" />
}
else
{
    <Messenger User="@currentUser" />
}

@functions {
    private User currentUser;

    private bool IsLoggedIn
    {
        get
        {
            return currentUser != null;
        }
    }

    private void LoggedIn(User user)
    {
        currentUser = user;
        StateHasChanged();
    }
}